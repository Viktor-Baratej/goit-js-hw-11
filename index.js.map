{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(userInput) {\n  const keyApi = '46773204-8ec36d0a78d9132ebe706b3ce';\n  let url = `https://pixabay.com/api/?key=${keyApi}&q=${userInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    } else {\n      return response.json();\n    }\n  });\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst div = document.querySelector('.wrapp');\n\nconst gallery = document.querySelector('.gallery');\n\nexport function renderImages(data, lightbox) {\n  if (data.total === 0) {\n    gallery.innerHTML = '';\n    return undefined;\n  } else {\n    hideLoading();\n    const smallImg = data.hits\n      .map(\n        item =>\n          `<li class=\"gallery-item\"><a href=\"${item.largeImageURL}\" data-source=\"${item.largeImageURL}\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" /></a>\n          <div class=\"wrapp-items\">\n          <div class=\"info-item\"><p class=\"bold\">Likes</p>\n          <p>${item.likes}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Views</p>\n          <p>${item.views}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Comments</p>\n          <p>${item.comments}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Downloads</p>\n          <p>${item.downloads}</p>\n          </div>\n          </div></li>`\n      )\n      .join('');\n    gallery.innerHTML = smallImg;\n\n    lightbox.refresh();\n    return true;\n  }\n}\n\nexport function showLoading() {\n  div.style.display = 'block';\n}\n\nexport function hideLoading() {\n  div.style.display = 'none';\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showLoading,\n  hideLoading,\n} from './js/render-functions.js';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  loop: true,\n});\n\nconst form = document.querySelector('.form');\nconst userInput = document.querySelector('.user-input');\n\nlet userText;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (userInput.value.trim()) {\n    userText = userInput.value.trim();\n  } else {\n    userText = undefined;\n  }\n\n  if (userText) {\n    showLoading();\n\n    fetchImages(userText)\n      .then(data => {\n        if (renderImages(data, lightbox)) {\n          return renderImages(data, lightbox);\n        } else {\n          throw new Error('Test error!');\n        }\n      })\n      .catch(error => {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageSize: 18,\n          messageLineHeight: 30,\n          position: 'topRight',\n        });\n        hideLoading();\n      });\n  }\n});\n"],"names":["fetchImages","userInput","url","response","div","gallery","renderImages","data","lightbox","hideLoading","smallImg","item","showLoading","SimpleLightbox","form","userText","event","error","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAW,CAErC,IAAIC,EAAM,qEAA4CD,CAAS,2DAE/D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAKA,EAAS,GAGZ,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIrC,CAAG,CACH,CCFA,MAAMC,EAAM,SAAS,cAAc,QAAQ,EAErCC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAMC,EAAU,CAC3C,GAAID,EAAK,QAAU,EAAG,CACpBF,EAAQ,UAAY,GACpB,MACJ,KAAS,CACLI,IACA,MAAMC,EAAWH,EAAK,KACnB,IACCI,GACE,qCAAqCA,EAAK,aAAa,kBAAkBA,EAAK,aAAa,eAAeA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,eAGzIA,EAAK,KAAK;AAAA;AAAA;AAAA,eAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,eAGVA,EAAK,QAAQ;AAAA;AAAA;AAAA,eAGbA,EAAK,SAAS;AAAA;AAAA,sBAGtB,EACA,KAAK,EAAE,EACV,OAAAN,EAAQ,UAAYK,EAEpBF,EAAS,QAAO,EACT,EACR,CACH,CAEO,SAASI,GAAc,CAC5BR,EAAI,MAAM,QAAU,OACtB,CAEO,SAASK,GAAc,CAC5BL,EAAI,MAAM,QAAU,MACtB,CCpCA,IAAII,EAAW,IAAIK,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,IACd,KAAM,EACR,CAAC,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCb,EAAY,SAAS,cAAc,aAAa,EAEtD,IAAIc,EAEJD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAChBf,EAAU,MAAM,OAClBc,EAAWd,EAAU,MAAM,OAE3Bc,EAAW,OAGTA,IACFH,IAEAZ,EAAYe,CAAQ,EACjB,KAAKR,GAAQ,CACZ,GAAID,EAAaC,EAAMC,CAAQ,EAC7B,OAAOF,EAAaC,EAAMC,CAAQ,EAElC,MAAM,IAAI,MAAM,aAAa,CAEvC,CAAO,EACA,MAAMS,GAAS,CACdC,EAAS,MAAM,CACb,QACE,2EACF,YAAa,GACb,kBAAmB,GACnB,SAAU,UACpB,CAAS,EACDT,GACR,CAAO,EAEP,CAAC"}